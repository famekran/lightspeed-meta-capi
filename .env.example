# ========================================
# LIGHTSPEED → META CAPI BRIDGE
# Multi-Tenant Environment Variables
# ========================================
# INSTRUCTIES:
# 1. Kopieer dit bestand naar .env.local
# 2. Vul alle values in met jouw werkende credentials
# 3. NOOIT .env.local committen naar Git!
# 4. Add ALL these secrets to GitHub Secrets (Settings → Secrets → Actions)
# ========================================

# ----------------------------------------
# CLOUDFLARE (Shared across all shops)
# ----------------------------------------
CLOUDFLARE_ACCOUNT_ID=your_account_id_here
CLOUDFLARE_API_TOKEN=your_api_token_here

# Worker URL (na eerste deploy)
WORKER_URL=https://lightspeed-meta-capi.your-subdomain.workers.dev

# ----------------------------------------
# SHOP 1: VIKGINCHOICE (vikginchoice.nl)
# ----------------------------------------
# Lightspeed API
VIKGINCHOICE_LIGHTSPEED_API_KEY=your_vikginchoice_api_key_here
VIKGINCHOICE_LIGHTSPEED_API_SECRET=your_vikginchoice_api_secret_here
VIKGINCHOICE_LIGHTSPEED_SHOP_ID=your_vikginchoice_shop_id_here
VIKGINCHOICE_LIGHTSPEED_CLUSTER_URL=https://api.webshopapp.com
VIKGINCHOICE_LIGHTSPEED_LANGUAGE=nl

# Meta Conversions API
VIKGINCHOICE_META_ACCESS_TOKEN=your_vikginchoice_meta_token_here
VIKGINCHOICE_META_PIXEL_ID=your_vikginchoice_pixel_id_here

# Webhook (gebruik deze URL in Lightspeed)
# https://worker-url/webhook?shop=vikginchoice

# ----------------------------------------
# SHOP 2: RETOERTJE
# ----------------------------------------
# Lightspeed API
RETOERTJE_LIGHTSPEED_API_KEY=your_retoertje_api_key_here
RETOERTJE_LIGHTSPEED_API_SECRET=your_retoertje_api_secret_here
RETOERTJE_LIGHTSPEED_SHOP_ID=your_retoertje_shop_id_here
RETOERTJE_LIGHTSPEED_CLUSTER_URL=https://api.webshopapp.com
RETOERTJE_LIGHTSPEED_LANGUAGE=nl

# Meta Conversions API
RETOERTJE_META_ACCESS_TOKEN=your_retoertje_meta_token_here
RETOERTJE_META_PIXEL_ID=your_retoertje_pixel_id_here

# Webhook (gebruik deze URL in Lightspeed)
# https://worker-url/webhook?shop=retoertje

# ----------------------------------------
# SHARED META CAPI SETTINGS
# ----------------------------------------
# CAPI Endpoint (default - same for all shops)
META_CAPI_ENDPOINT=https://graph.facebook.com/v18.0

# Test Events Mode (true = test mode, false = production)
META_TEST_MODE=false

# Test Event Code (only for test mode - get from Test Events Tool)
META_TEST_EVENT_CODE=TEST12345

# ----------------------------------------
# R2 STORAGE (Optional - for per-shop logging)
# ----------------------------------------
R2_BUCKET_NAME=lightspeed-meta-logs
R2_LOGGING_ENABLED=false

# ----------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------
NODE_ENV=development
DEBUG_MODE=true

# Rate Limiting (requests per minute naar Meta CAPI)
RATE_LIMIT_PER_MINUTE=60

# Retry Settings (voor failed API calls)
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000

# ----------------------------------------
# GITHUB (for CI/CD)
# ----------------------------------------
GITHUB_TOKEN=your_github_token_here
GITHUB_REPO=famekran/lightspeed-meta-capi

# ========================================
# PLATFORM-SPECIFIC CREDENTIALS REFERENCE
# ========================================

# CLOUDFLARE - Waar vind je credentials?
# 1. Account ID: Dashboard → Workers → Right sidebar
# 2. API Token: Dashboard → My Profile → API Tokens → Create Token
#    Template: "Edit Cloudflare Workers"

# META - Waar vind je credentials? (PER SHOP!)
# 1. Access Token: Business Manager → Business Settings → Users → System Users
#    → Create System User → Generate Token (ads_management, business_management permissions)
# 2. Pixel ID: Events Manager → Data Sources → Select Pixel → Copy Pixel ID
# 3. Create separate pixel for each shop!

# LIGHTSPEED - Waar vind je credentials? (PER SHOP!)
# 1. API Key: Lightspeed Admin → Apps → Private Apps → Create App
# 2. API Secret: Same location as API Key
# 3. Shop ID: In Lightspeed API response onder "shop": { "id": xxx }
# 4. Cluster URL: api.webshopapp.com (EU) of api.shoplightspeed.com (US)

# ========================================
# GITHUB SECRETS SETUP
# ========================================
# Add ALL credentials to: GitHub → Settings → Secrets → Actions
#
# Required secrets (12 total for 2 shops):
# - CLOUDFLARE_API_TOKEN
# - CLOUDFLARE_ACCOUNT_ID
# - VIKGINCHOICE_LIGHTSPEED_API_KEY
# - VIKGINCHOICE_LIGHTSPEED_API_SECRET
# - VIKGINCHOICE_LIGHTSPEED_SHOP_ID
# - VIKGINCHOICE_META_ACCESS_TOKEN
# - VIKGINCHOICE_META_PIXEL_ID
# - RETOERTJE_LIGHTSPEED_API_KEY
# - RETOERTJE_LIGHTSPEED_API_SECRET
# - RETOERTJE_LIGHTSPEED_SHOP_ID
# - RETOERTJE_META_ACCESS_TOKEN
# - RETOERTJE_META_PIXEL_ID

# ========================================
# SECURITY NOTES
# ========================================
# - Store ALL credentials in GitHub Secrets (encrypted)
# - Rotate tokens every 90 days
# - Use separate Meta pixels per shop (for proper attribution)
# - Enable 2FA on all accounts
# - NEVER commit .env.local to Git!
